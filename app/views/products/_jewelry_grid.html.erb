<%= define_grid(@jewelry_grid, hide_submit_button: true, hide_reset_button: true, upper_pagination_panel: true , html: {class: 'table table-striped table-hover table-condensed table-responsive'}) do |g|
  g.blank_slate content_tag(:div, "No products found", class: 'well')


  g.column name:  'Product', attribute: 'title', detach_with_id: :title_filter do |x|
  link_to(x.title.titleize, x) + (br() + link_to(image_tag(x.photos.first.image.thumb), x) unless x.photos.first.nil?) + br() +" Price: " + (number_to_currency x.price).to_s
  end


  g.column name:  'Type', attribute: 'type_field', detach_with_id: :type_filter, custom_filter: Product.where(:store => "jewelry").select("DISTINCT(TYPE_FIELD)").map {|p| [p.type_field.titleize, p.type_field]} do |x|
  x.type_field.titleize
  end

  g.column name:  'Style', attribute: 'style_field', detach_with_id: :style_filter, custom_filter: Product.where(:store => "jewelry").select("DISTINCT(STYLE_FIELD)").map {|p| [p.style_field.titleize, p.style_field]} do |x|
  x.style_field.titleize
  end

 g.column name:  'Material', attribute: 'material', detach_with_id: :material_filter, custom_filter: Product.where(:store => "jewelry").select("DISTINCT(MATERIAL)").map {|p| [p.material.titleize, p.material]} do |x|
  x.material.titleize
  end


end -%>
